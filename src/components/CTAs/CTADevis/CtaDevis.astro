---
import Icon from "@components/Icons/Icon.astro";
import type { IconProps } from "@components/Icons/icon";
import type { CTADevisProps } from "@app-types/cta";

const { label, href, icon, iconProps = {} } = Astro.props as CTADevisProps;
---

<a href={href} class="cta-card">
  {
    icon && (
      <span class="cta-card__icon" aria-hidden="true">
        <Icon type={icon} {...iconProps} />
      </span>
    )
  }
  <span class="cta-card__label">{label}</span>
</a>

<style lang="scss">
  .cta-card {
    padding: var(--space-2) var(--space-3);
    background: var(--color-base-100);
    font-weight: 600;
    font-size: var(--step-1);
    border-radius: var(--radius-full);
    color: var(--color-primary);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease;
  }

  .cta-card:hover,
  .cta-card:focus-visible {
    transform: translateY(-4px);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
  }

  .cta-card__icon {
    width: var(--step-4);
    height: var(--step-4);
    border-radius: 0.9rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
  }

  .cta-card__icon :global(svg) {
    width: var(--step-4);
    height: var(--step-4);
    display: block;
  }

  .cta-card__label {
    flex: 1;
    text-align: center;
  }
</style>
